#version 330 core

layout(location=0) out vec4 pos;
layout(location=1) out vec4 diffuse;
layout(location=2) out vec4 normal;

uniform sampler2D tex0;
uniform vec4 base_color;
uniform float base_color_factor;

in vec4 v_pos;      //segment世界坐标
in vec2 v_uv;
in vec4 v_normal;   //segment世界空间normal

void main() {
    pos = v_pos;
    diffuse = texture(tex0, v_uv) + base_color_factor * vec4(base_color.xyz, base_color.w);
    normal = normalize(v_normal);
}